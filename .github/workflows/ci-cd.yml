# Lab 00: Preparing Knowledge - YAML for Docker Compose & GitHub Actions

## ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå
‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÑ‡∏ü‡∏•‡πå YAML ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Docker Compose ‡πÅ‡∏•‡∏∞ GitHub Actions ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡πÅ‡∏•‡∏õ‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡πÉ‡∏ô‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£

---

## ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô YAML

### YAML ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?
- **YAML** = YAML Ain't Markup Language
- ‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏Ñ‡∏≠‡∏ô‡∏ü‡∏¥‡∏Å‡∏π‡πÄ‡∏£‡∏ä‡∏±‡∏ô
- ‡πÉ‡∏ä‡πâ‡∏Å‡∏≤‡∏£‡πÄ‡∏ß‡πâ‡∏ô‡∏ß‡∏£‡∏£‡∏Ñ (indentation) ‡πÅ‡∏ó‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ß‡∏á‡πÄ‡∏•‡πá‡∏ö
- Case-sensitive (‡πÅ‡∏¢‡∏Å‡∏ï‡∏±‡∏ß‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏•‡πá‡∏Å‡πÉ‡∏´‡∏ç‡πà)

### ‡∏Å‡∏é‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô YAML
```yaml
# ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠ comment (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô)
key: value                    # ‡∏Ñ‡∏π‡πà key-value ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô
number: 42                    # ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç
boolean: true                 # boolean (true/false)
list:                         # ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ (array)
  - item1
  - item2
  - item3
nested:                       # nested object
  child_key: child_value
multiline: |                  # multi-line string
  This is a
  multi-line
  string
```

---

## ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 2: Docker Compose YAML

### ‡∏ó‡∏§‡∏©‡∏é‡∏µ Docker Compose
Docker Compose ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢‡∏´‡∏•‡∏≤‡∏¢ containers ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏•‡πå YAML ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤

### ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô docker-compose.yml (Modern)
```yaml
# Modern Docker Compose - ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏ version
# ‡πÉ‡∏ä‡πâ Compose Specification V2 ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

services:                   # ‡∏Å‡∏≥‡∏´‡∏ô‡∏î services ‡∏ï‡πà‡∏≤‡∏á‡πÜ
  service_name:             # ‡∏ä‡∏∑‡πà‡∏≠ service
    # ‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤ service
networks:                   # ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢ (optional)
volumes:                    # ‡∏Å‡∏≥‡∏´‡∏ô‡∏î volumes (optional)
```

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:** 
- ‚ùå **‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ** `version: '3.8'` ‡∏≠‡∏µ‡∏Å‡∏ï‡πà‡∏≠‡πÑ‡∏õ
- ‚úÖ Docker Compose V2 ‡πÉ‡∏ä‡πâ **Compose Specification** ‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- ‚úÖ ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡πÉ‡∏´‡∏°‡πà‡πÜ ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏á‡∏ß‡∏•‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà 1: Flask Application ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `docker-compose.yml`:

```yaml
# Modern Docker Compose - ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏ version

services:
  # Web Application Service
  web:
    build: .
    container_name: flask_app
    ports:
      - "5000:5000"
    environment:
      - FLASK_ENV=development
      - DATABASE_URL=postgresql://user:pass@db:5432/mydb
    depends_on:
      db:
        condition: service_healthy        # ‡∏£‡∏≠‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤ db ‡∏à‡∏∞ healthy
      redis:
        condition: service_healthy        # ‡∏£‡∏≠‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤ redis ‡∏à‡∏∞ healthy
    volumes:
      - .:/app
    restart: unless-stopped
    networks:
      - app-network
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:5000/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 40s

  # Database Service
  db:
    image: postgres:16-alpine             # PostgreSQL 16 Alpine
    container_name: postgres_db
    environment:
      POSTGRES_DB: mydb
      POSTGRES_USER: user
      POSTGRES_PASSWORD: pass             # ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏ä‡πâ secrets
    volumes:
      - postgres_data:/var/lib/postgresql/data
    ports:
      - "5432:5432"
    restart: unless-stopped
    networks:
      - app-network
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U user -d mydb"]
      interval: 10s
      timeout: 5s
      retries: 5
      start_period: 30s

  # Redis Service
  redis:
    image: redis:7-alpine                 # Redis 7 Alpine
    container_name: redis_cache
    command: redis-server --appendonly yes
    volumes:
      - redis_data:/data
    ports:
      - "6379:6379"
    restart: unless-stopped
    networks:
      - app-network
    healthcheck:
      test: ["CMD", "redis-cli", "ping"]
      interval: 10s
      timeout: 5s
      retries: 5
      start_period: 20s

networks:
  app-network:
    driver: bridge

volumes:
  postgres_data:
    driver: local
  redis_data:
    driver: local
```

### ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏ô Docker Compose

#### Services
‡πÅ‡∏ï‡πà‡∏•‡∏∞ service ‡∏Ñ‡∏∑‡∏≠ container ‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ï‡∏±‡∏ß:

- **build**: ‡∏™‡∏£‡πâ‡∏≤‡∏á image ‡∏à‡∏≤‡∏Å Dockerfile
- **image**: ‡πÉ‡∏ä‡πâ image ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏ä‡πâ Alpine variants)
- **container_name**: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ä‡∏∑‡πà‡∏≠ container
- **ports**: map port ‡∏à‡∏≤‡∏Å host ‡πÑ‡∏õ container
- **environment**: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏†‡∏≤‡∏û‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°
- **depends_on**: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô service ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç
  - `condition: service_healthy` - ‡∏£‡∏≠‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤ service ‡∏à‡∏∞‡∏ú‡πà‡∏≤‡∏ô healthcheck
  - `condition: service_started` - ‡∏£‡∏≠‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤ service ‡∏à‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
- **volumes**: mount ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á host ‡∏Å‡∏±‡∏ö container
- **restart**: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î restart policy
- **networks**: ‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢‡∏ó‡∏µ‡πà container ‡∏à‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°
- **healthcheck**: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á service

#### Health Checks (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å!)
```yaml
healthcheck:
  test: ["CMD-SHELL", "pg_isready -U user"]  # ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö
  interval: 10s                               # ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ó‡∏∏‡∏Å 10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
  timeout: 5s                                 # timeout 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
  retries: 5                                  # ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà 5 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á
  start_period: 30s                          # ‡∏£‡∏≠ 30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö
```

#### Networks ‡πÅ‡∏•‡∏∞ Volumes
- **Networks**: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ containers ‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏Å‡∏±‡∏ô
- **Volumes**: ‡∏à‡∏±‡∏î‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ö‡∏ö‡∏ñ‡∏≤‡∏ß‡∏£ ‡πÑ‡∏°‡πà‡∏´‡∏≤‡∏¢‡πÄ‡∏°‡∏∑‡πà‡∏≠ container ‡∏õ‡∏¥‡∏î

### ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á Docker Compose V2

```bash
# ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô services ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
docker compose up -d

# ‡∏î‡∏π status ‡∏Ç‡∏≠‡∏á services
docker compose ps

# ‡∏î‡∏π logs
docker compose logs -f

# ‡∏î‡∏π logs ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ service
docker compose logs web

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö health status
docker compose ps --format json | jq '.[].Health'

# Restart service
docker compose restart web

# ‡∏´‡∏¢‡∏∏‡∏î services
docker compose down

# ‡∏´‡∏¢‡∏∏‡∏î‡πÅ‡∏•‡∏∞‡∏•‡∏ö volumes
docker compose down -v

# Validate configuration
docker compose config

# ‡∏î‡∏π services ‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÑ‡∏ß‡πâ
docker compose config --services
```

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡πÉ‡∏ä‡πâ `docker compose` (‡∏°‡∏µ‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á) ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà `docker-compose` (‡∏°‡∏µ‡∏Ç‡∏µ‡∏î)

---

## ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 3: GitHub Actions YAML

### ‡∏ó‡∏§‡∏©‡∏é‡∏µ GitHub Actions
GitHub Actions ‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö CI/CD ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡πÉ‡∏ô GitHub ‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏•‡πå YAML ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î workflows ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

### ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô .github/workflows/ci.yml
```yaml
name: Workflow Name           # ‡∏ä‡∏∑‡πà‡∏≠ workflow
on:                          # ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ß‡πà‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
  push:
  pull_request:

# SECURITY: ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå (Least Privilege)
permissions:
  contents: read
  packages: write

jobs:                        # ‡∏Å‡∏≥‡∏´‡∏ô‡∏î jobs ‡∏ï‡πà‡∏≤‡∏á‡πÜ
  job_name:
    runs-on: ubuntu-latest
    steps:
      - name: Step name
        uses: action@version
      - name: Another step
        run: command
```

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.github/workflows/ci-cd.yml` (Fixed Version):**

```yaml
name: Flask CI/CD Pipeline

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

env:
  PYTHON_VERSION: '3.9'

# SECURITY: ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ï‡∏≤‡∏° Least Privilege Principle
permissions:
  contents: read
  packages: write
  security-events: write
  pull-requests: write
  actions: read

jobs:
  # Job ‡∏ó‡∏µ‡πà 1: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÇ‡∏Ñ‡πâ‡∏î
  test:
    name: Run Tests
    runs-on: ubuntu-latest
    
    services:
      postgres:
        image: postgres:16-alpine
        env:
          POSTGRES_PASSWORD: ${{ secrets.POSTGRES_PASSWORD }}
          POSTGRES_USER: ${{ secrets.POSTGRES_USER }}
          POSTGRES_DB: ${{ secrets.POSTGRES_DB }}
        ports:
          - 5432:5432
        options: >-
          --health-cmd "pg_isready -U ${{ secrets.POSTGRES_USER }} -d ${{ secrets.POSTGRES_DB }}"
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5
          --health-start-period 30s
          
      redis:
        image: redis:7-alpine
        ports:
          - 6379:6379
        options: >-
          --health-cmd "redis-cli ping"
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5
          --health-start-period 20s

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: ${{ env.PYTHON_VERSION }}
          cache: 'pip'
          cache-dependency-path: backend/requirements.txt

      - name: Install dependencies
        run: |
          cd backend
          python -m pip install --upgrade pip
          pip install -r requirements.txt

      - name: Set up test environment
        run: |
          echo "DATABASE_URL=postgresql://${{ secrets.POSTGRES_USER }}:${{ secrets.POSTGRES_PASSWORD }}@localhost:5432/${{ secrets.POSTGRES_DB }}" >> $GITHUB_ENV
          echo "REDIS_URL=redis://localhost:6379" >> $GITHUB_ENV
          echo "FLASK_ENV=testing" >> $GITHUB_ENV

      - name: Wait for services
        run: |
          echo "Waiting for PostgreSQL..."
          timeout 60 bash -c 'until pg_isready -h localhost -p 5432 -U ${{ secrets.POSTGRES_USER }}; do sleep 2; done'
          echo "‚úÖ PostgreSQL is ready!"
          
          echo "Waiting for Redis..."
          timeout 60 bash -c 'until redis-cli -h localhost -p 6379 ping | grep -q PONG; do sleep 2; done'
          echo "‚úÖ Redis is ready!"

      - name: Run tests with coverage
        run: |
          cd backend
          pytest tests/ -v --cov=. --cov-report=xml --cov-report=html --cov-report=term
        env:
          DATABASE_URL: ${{ env.DATABASE_URL }}
          REDIS_URL: ${{ env.REDIS_URL }}
          SECRET_KEY: ${{ secrets.SECRET_KEY }}
          FLASK_ENV: testing

      - name: Upload coverage reports
        uses: actions/upload-artifact@v4
        if: always()
        with:
          name: coverage-report
          path: backend/htmlcov/
          retention-days: 5

  # Job ‡∏ó‡∏µ‡πà 2: Security Scanning ‡∏î‡πâ‡∏ß‡∏¢ Snyk
  security-snyk:
    name: Snyk Security Scan
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: ${{ env.PYTHON_VERSION }}
          cache: 'pip'
          cache-dependency-path: backend/requirements.txt

      - name: Install dependencies
        run: |
          cd backend
          pip install -r requirements.txt

      # SCA - Dependencies Scan
      - name: Run Snyk Dependencies Scan
        uses: snyk/actions/python@master
        continue-on-error: true
        env:
          SNYK_TOKEN: ${{ secrets.SNYK_TOKEN }}
        with:
          args: --severity-threshold=high --file=backend/requirements.txt
          command: test

      # SAST - Code Scan
      - name: Run Snyk Code Scan
        uses: snyk/actions/python@master
        continue-on-error: true
        env:
          SNYK_TOKEN: ${{ secrets.SNYK_TOKEN }}
        with:
          args: --severity-threshold=medium --sarif-file-output=snyk-code.sarif
          command: code test

      - name: Upload SARIF to GitHub Security
        uses: github/codeql-action/upload-sarif@v3
        if: always()
        with:
          sarif_file: snyk-code.sarif
          category: snyk-code

      - name: Monitor with Snyk
        if: github.ref == 'refs/heads/main'
        uses: snyk/actions/python@master
        env:
          SNYK_TOKEN: ${{ secrets.SNYK_TOKEN }}
        with:
          args: --file=backend/requirements.txt --project-name="${{ github.repository }}"
          command: monitor

  # Job ‡∏ó‡∏µ‡πà 3: Additional Security Scans
  security-additional:
    name: Additional Security Scans
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: ${{ env.PYTHON_VERSION }}
          cache: 'pip'
          cache-dependency-path: backend/requirements.txt

      - name: Run Safety check
        run: |
          pip install safety
          cd backend
          safety check --json --output safety-report.json || echo "‚ö†Ô∏è Safety warnings found"
        continue-on-error: true

      - name: Run Bandit SAST
        run: |
          pip install bandit[toml]
          cd backend
          bandit -r . -f json -o bandit-report.json -ll || echo "‚ö†Ô∏è Bandit warnings found"
        continue-on-error: true

      - name: Run Semgrep
        uses: returntocorp/semgrep-action@v1
        with:
          config: auto
          generateSarif: "1"
        continue-on-error: true

      - name: Secret Scanning with TruffleHog
        uses: trufflesecurity/trufflehog@main
        with:
          path: ./
          base: ${{ github.event.repository.default_branch }}
          head: HEAD
          extra_args: --only-verified

      - name: Upload security artifacts
        uses: actions/upload-artifact@v4
        if: always()
        with:
          name: security-reports
          path: |
            backend/safety-report.json
            backend/bandit-report.json
          retention-days: 30

  # Job ‡∏ó‡∏µ‡πà 4: Build Docker Image
  build:
    name: Build Docker Image
    runs-on: ubuntu-latest
    needs: [test, security-snyk, security-additional]
    if: |
      always() && 
      needs.test.result == 'success' && 
      (needs.security-snyk.result == 'success' || needs.security-snyk.result == 'skipped')

    env:
      REGISTRY: ghcr.io
      IMAGE_NAME: ${{ github.repository }}

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Set up Docker Buildx
        uses: docker/setup-buildx-action@v3

      - name: Log in to Container Registry
        uses: docker/login-action@v3
        with:
          registry: ${{ env.REGISTRY }}
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Extract metadata
        id: meta
        uses: docker/metadata-action@v5
        with:
          images: ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}
          tags: |
            type=ref,event=branch
            type=ref,event=pr
            type=sha,prefix={{branch}}-
            type=raw,value=latest,enable={{is_default_branch}}

      - name: Build and push Docker image
        uses: docker/build-push-action@v5
        with:
          context: .
          platforms: linux/amd64,linux/arm64
          push: true
          tags: ${{ steps.meta.outputs.tags }}
          labels: ${{ steps.meta.outputs.labels }}
          cache-from: type=gha
          cache-to: type=gha,mode=max

      - name: Run Trivy container scan
        uses: aquasecurity/trivy-action@master
        with:
          image-ref: ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:${{ github.sha }}
          format: 'sarif'
          output: 'trivy-results.sarif'
          severity: 'HIGH,CRITICAL'

      - name: Upload Trivy results
        uses: github/codeql-action/upload-sarif@v3
        if: always()
        with:
          sarif_file: 'trivy-results.sarif'
          category: trivy-container

  # Job ‡∏ó‡∏µ‡πà 5: Notify Results
  notify:
    name: Notify Results
    runs-on: ubuntu-latest
    needs: [test, security-snyk, security-additional, build]
    if: always()
    
    steps:
      - name: Create PR comment
        if: github.event_name == 'pull_request'
        uses: actions/github-script@v7
        with:
          script: |
            const testStatus = '${{ needs.test.result }}';
            const snykStatus = '${{ needs.security-snyk.result }}';
            const additionalSecurityStatus = '${{ needs.security-additional.result }}';
            const buildStatus = '${{ needs.build.result }}';
            
            const statusEmoji = {
              'success': '‚úÖ',
              'failure': '‚ùå',
              'cancelled': '‚èπÔ∏è',
              'skipped': '‚è≠Ô∏è'
            };
            
            const comment = `
            ## üöÄ CI/CD Pipeline Results
            
            | Job | Status | Result |
            |-----|--------|---------|
            | Tests | ${statusEmoji[testStatus] || '‚ùì'} | ${testStatus} |
            | Snyk Security | ${statusEmoji[snykStatus] || '‚ùì'} | ${snykStatus} |
            | Additional Security | ${statusEmoji[additionalSecurityStatus] || '‚ùì'} | ${additionalSecurityStatus} |
            | Docker Build | ${statusEmoji[buildStatus] || '‚ùì'} | ${buildStatus} |
            
            ### üìä Details
            - **Commit**: \`${{ github.sha }}\`
            - **Branch**: \`${{ github.head_ref }}\`
            - **Triggered by**: @${{ github.actor }}
            
            ${testStatus === 'success' && (buildStatus === 'success' || buildStatus === 'skipped')
              ? 'üéâ All critical checks passed! Ready for review.' 
              : '‚ö†Ô∏è Some checks failed. Please review before merging.'}
            
            üìã [View detailed logs](${{ github.server_url }}/${{ github.repository }}/actions/runs/${{ github.run_id }})
            `;
            
            github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: comment
            });

      - name: Print summary
        run: |
          echo "========================================="
          echo "    CI/CD PIPELINE SUMMARY"
          echo "========================================="
          echo ""
          echo "üìã Job Results:"
          echo "  ‚Ä¢ Tests:                ${{ needs.test.result }}"
          echo "  ‚Ä¢ Snyk Security:        ${{ needs.security-snyk.result }}"
          echo "  ‚Ä¢ Additional Security:  ${{ needs.security-additional.result }}"
          echo "  ‚Ä¢ Build:                ${{ needs.build.result }}"
          echo ""
          echo "üì¶ Metadata:"
          echo "  ‚Ä¢ Commit:    ${{ github.sha }}"
          echo "  ‚Ä¢ Branch:    ${{ github.ref_name }}"
          echo "  ‚Ä¢ Actor:     ${{ github.actor }}"
          echo "  ‚Ä¢ Event:     ${{ github.event_name }}"
          echo ""
          echo "========================================="
          
          if [[ "${{ needs.test.result }}" == "success" ]]; then
            echo "‚úÖ PIPELINE STATUS: SUCCESS"
            exit 0
          else
            echo "‚ùå PIPELINE STATUS: FAILED"
            exit 1
          fi
```

### ‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:

#### üîß ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:

1. **Health Check Command ‡πÑ‡∏°‡πà‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå**
   ```yaml
   # ‚ùå ‡πÄ‡∏Å‡πà‡∏≤
   --health-cmd "pg_isready -U $POSTGRES_USER "
   
   # ‚úÖ ‡πÉ‡∏´‡∏°‡πà
   --health-cmd "pg_isready -U ${{ secrets.POSTGRES_USER }} -d ${{ secrets.POSTGRES_DB }}"
   ```

2. **‡πÄ‡∏û‡∏¥‡πà‡∏° health-start-period**
   ```yaml
   --health-start-period 30s  # PostgreSQL
   --health-start-period 20s  # Redis
   ```

3. **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Set up test environment (‡∏•‡∏ö syntax error)**
   ```yaml
   # ‚ùå ‡πÄ‡∏Å‡πà‡∏≤ (‡∏°‡∏µ variable ‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)
   DATABASE_URL_RAW="postgresql://..."
   echo "DATABASE_URL=$DATABASE_URL_RAW" >> $GITHUB_ENV
   
   # ‚úÖ ‡πÉ‡∏´‡∏°‡πà (‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ï‡∏£‡∏á‡πÜ)
   echo "DATABASE_URL=postgresql://..." >> $GITHUB_ENV
   ```

4. **‡πÄ‡∏û‡∏¥‡πà‡∏° cache-dependency-path**
   ```yaml
   cache: 'pip'
   cache-dependency-path: backend/requirements.txt
   ```

5. **‡πÅ‡∏¢‡∏Å echo ‡πÉ‡∏ô Wait for services**
   ```yaml
   echo "Waiting for PostgreSQL..."
   timeout 60 ...
   echo "‚úÖ PostgreSQL is ready!"
   ```

6. **‡πÄ‡∏û‡∏¥‡πà‡∏° env ‡πÉ‡∏ô Run tests**
   ```yaml
   env:
     DATABASE_URL: ${{ env.DATABASE_URL }}
     REDIS_URL: ${{ env.REDIS_URL }}
     SECRET_KEY: ${{ secrets.SECRET_KEY }}
     FLASK_ENV: testing
   ```

7. **‡πÄ‡∏û‡∏¥‡πà‡∏° category ‡πÉ‡∏ô SARIF uploads**
   ```yaml
   category: snyk-code
   category: trivy-container
   ```

8. **‡πÄ‡∏û‡∏¥‡πà‡∏° severity ‡πÉ‡∏ô Trivy scan**
   ```yaml
   severity: 'HIGH,CRITICAL'
   ```

9. **‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á PR comment**
   - ‡πÄ‡∏û‡∏¥‡πà‡∏° details section
   - ‡πÄ‡∏û‡∏¥‡πà‡∏° link ‡πÑ‡∏õ‡∏¢‡∏±‡∏á workflow logs
   - ‡πÉ‡∏ä‡πâ single quotes ‡πÅ‡∏ó‡∏ô escaped quotes

10. **‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á summary output**
    - ‡πÄ‡∏û‡∏¥‡πà‡∏° formatting
    - ‡πÄ‡∏û‡∏¥‡πà‡∏° metadata
    - ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô

```yaml
name: Flask CI/CD Pipeline

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

env:
  PYTHON_VERSION: '3.9'

# SECURITY: ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ï‡∏≤‡∏° Least Privilege Principle
permissions:
  contents: read
  packages: write
  security-events: write
  pull-requests: write
  actions: read

jobs:
  # Job ‡∏ó‡∏µ‡πà 1: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÇ‡∏Ñ‡πâ‡∏î
  test:
    name: Run Tests
    runs-on: ubuntu-latest
    
    services:
      postgres:
        image: postgres:16-alpine
        env:
          POSTGRES_PASSWORD: ${{ secrets.POSTGRES_PASSWORD }}
          POSTGRES_USER: ${{ secrets.POSTGRES_USER }}
          POSTGRES_DB: ${{ secrets.POSTGRES_DB }}
        ports:
          - 5432:5432
        options: >-
          --health-cmd "pg_isready -U ${{ secrets.POSTGRES_USER }}"
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5
          
      redis:
        image: redis:7-alpine
        ports:
          - 6379:6379
        options: >-
          --health-cmd "redis-cli ping"
          --health-interval 10s
          --health-timeout 5s
          --health-retries 5

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: ${{ env.PYTHON_VERSION }}
          cache: 'pip'

      - name: Install dependencies
        run: |
          cd backend
          python -m pip install --upgrade pip
          pip install -r requirements.txt

      - name: Set up test environment
        run: |
          echo "DATABASE_URL=postgresql://${{ secrets.POSTGRES_USER }}:${{ secrets.POSTGRES_PASSWORD }}@localhost:5432/${{ secrets.POSTGRES_DB }}" >> $GITHUB_ENV
          echo "REDIS_URL=redis://localhost:6379" >> $GITHUB_ENV
          echo "FLASK_ENV=testing" >> $GITHUB_ENV

      - name: Wait for services
        run: |
          echo "Waiting for PostgreSQL..."
          timeout 60 bash -c 'until pg_isready -h localhost -p 5432 -U ${{ secrets.POSTGRES_USER }}; do sleep 2; done'
          echo "‚úÖ PostgreSQL is ready!"
          
          echo "Waiting for Redis..."
          timeout 60 bash -c 'until redis-cli -h localhost -p 6379 ping | grep -q PONG; do sleep 2; done'
          echo "‚úÖ Redis is ready!"

      - name: Run tests with coverage
        run: |
          cd backend
          pytest tests/ -v --cov=. --cov-report=xml --cov-report=html
        env:
          DATABASE_URL: ${{ env.DATABASE_URL }}
          SECRET_KEY: ${{ secrets.SECRET_KEY }}

      - name: Upload coverage reports
        uses: actions/upload-artifact@v4
        if: always()
        with:
          name: coverage-report
          path: backend/htmlcov/
          retention-days: 5

  # Job ‡∏ó‡∏µ‡πà 2: Security Scanning ‡∏î‡πâ‡∏ß‡∏¢ Snyk
  security-snyk:
    name: Snyk Security Scan
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: ${{ env.PYTHON_VERSION }}
          cache: 'pip'

      - name: Install dependencies
        run: |
          cd backend
          pip install -r requirements.txt

      # SCA - Dependencies Scan
      - name: Run Snyk Dependencies Scan
        uses: snyk/actions/python@master
        continue-on-error: true
        env:
          SNYK_TOKEN: ${{ secrets.SNYK_TOKEN }}
        with:
          args: --severity-threshold=high --file=backend/requirements.txt
          command: test

      # SAST - Code Scan
      - name: Run Snyk Code Scan
        uses: snyk/actions/python@master
        continue-on-error: true
        env:
          SNYK_TOKEN: ${{ secrets.SNYK_TOKEN }}
        with:
          args: --severity-threshold=medium --sarif-file-output=snyk-code.sarif
          command: code test

      - name: Upload SARIF to GitHub Security
        uses: github/codeql-action/upload-sarif@v3
        if: always()
        with:
          sarif_file: snyk-code.sarif

      - name: Monitor with Snyk
        if: github.ref == 'refs/heads/main'
        uses: snyk/actions/python@master
        env:
          SNYK_TOKEN: ${{ secrets.SNYK_TOKEN }}
        with:
          args: --file=backend/requirements.txt
          command: monitor

  # Job ‡∏ó‡∏µ‡πà 3: Additional Security Scans
  security-additional:
    name: Additional Security Scans
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: ${{ env.PYTHON_VERSION }}
          cache: 'pip'

      - name: Run Safety check
        run: |
          pip install safety
          cd backend
          safety check --json --output safety-report.json || echo "‚ö†Ô∏è Safety warnings found"
        continue-on-error: true

      - name: Run Bandit SAST
        run: |
          pip install bandit[toml]
          cd backend
          bandit -r . -f json -o bandit-report.json -ll || echo "‚ö†Ô∏è Bandit warnings found"
        continue-on-error: true

      - name: Run Semgrep
        uses: returntocorp/semgrep-action@v1
        with:
          config: auto
          generateSarif: "1"
        continue-on-error: true

      - name: Secret Scanning with TruffleHog
        uses: trufflesecurity/trufflehog@main
        with:
          path: ./
          base: ${{ github.event.repository.default_branch }}
          head: HEAD
          extra_args: --only-verified

      - name: Upload security artifacts
        uses: actions/upload-artifact@v4
        if: always()
        with:
          name: security-reports
          path: |
            backend/safety-report.json
            backend/bandit-report.json
          retention-days: 30

  # Job ‡∏ó‡∏µ‡πà 4: Build Docker Image
  build:
    name: Build Docker Image
    runs-on: ubuntu-latest
    needs: [test, security-snyk, security-additional]
    if: |
      always() && 
      needs.test.result == 'success' && 
      (needs.security-snyk.result == 'success' || needs.security-snyk.result == 'skipped')

    env:
      REGISTRY: ghcr.io
      IMAGE_NAME: ${{ github.repository }}

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Set up Docker Buildx
        uses: docker/setup-buildx-action@v3

      - name: Log in to Container Registry
        uses: docker/login-action@v3
        with:
          registry: ${{ env.REGISTRY }}
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}

      - name: Extract metadata
        id: meta
        uses: docker/metadata-action@v5
        with:
          images: ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}
          tags: |
            type=ref,event=branch
            type=ref,event=pr
            type=sha,prefix={{branch}}-
            type=raw,value=latest,enable={{is_default_branch}}

      - name: Build and push Docker image
        uses: docker/build-push-action@v5
        with:
          context: .
          platforms: linux/amd64,linux/arm64
          push: true
          tags: ${{ steps.meta.outputs.tags }}
          labels: ${{ steps.meta.outputs.labels }}
          cache-from: type=gha
          cache-to: type=gha,mode=max

      - name: Run Trivy container scan
        uses: aquasecurity/trivy-action@master
        with:
          image-ref: ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:${{ github.sha }}
          format: 'sarif'
          output: 'trivy-results.sarif'

      - name: Upload Trivy results
        uses: github/codeql-action/upload-sarif@v3
        if: always()
        with:
          sarif_file: 'trivy-results.sarif'

  # Job ‡∏ó‡∏µ‡πà 5: Notify Results
  notify:
    name: Notify Results
    runs-on: ubuntu-latest
    needs: [test, security-snyk, security-additional, build]
    if: always()
    
    steps:
      - name: Create PR comment
        if: github.event_name == 'pull_request'
        uses: actions/github-script@v7
        with:
          script: |
            const testStatus = '${{ needs.test.result }}';
            const snykStatus = '${{ needs.security-snyk.result }}';
            const additionalSecurityStatus = '${{ needs.security-additional.result }}';
            const buildStatus = '${{ needs.build.result }}';
            
            const statusEmoji = {
              'success': '‚úÖ',
              'failure': '‚ùå',
              'cancelled': '‚èπÔ∏è',
              'skipped': '‚è≠Ô∏è'
            };
            
            const comment = \`
            ## üöÄ CI/CD Pipeline Results
            
            | Job | Status | Result |
            |-----|--------|---------|
            | Tests | \${statusEmoji[testStatus] || '‚ùì'} | \${testStatus} |
            | Snyk Security | \${statusEmoji[snykStatus] || '‚ùì'} | \${snykStatus} |
            | Additional Security | \${statusEmoji[additionalSecurityStatus] || '‚ùì'} | \${additionalSecurityStatus} |
            | Docker Build | \${statusEmoji[buildStatus] || '‚ùì'} | \${buildStatus} |
            
            **Commit**: \\\`${{ github.sha }}\\\`
            **Branch**: \\\`${{ github.head_ref }}\\\`
            \`;
            
            github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: comment
            });

      - name: Print summary
        run: |
          echo "=== Pipeline Summary ==="
          echo "Test: ${{ needs.test.result }}"
          echo "Snyk: ${{ needs.security-snyk.result }}"
          echo "Security: ${{ needs.security-additional.result }}"
          echo "Build: ${{ needs.build.result }}"
```

### ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏ô GitHub Actions

#### Permissions (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç!)
```yaml
permissions:
  contents: read          # ‡∏≠‡πà‡∏≤‡∏ô repository
  packages: write         # ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô packages
  security-events: write  # ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô security events
```

#### Jobs
- **runs-on**: ‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ
- **needs**: ‡∏£‡∏≠ job ‡∏≠‡∏∑‡πà‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡∏Å‡πà‡∏≠‡∏ô
- **if**: ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
- **services**: services ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö

#### Steps
- **uses**: ‡πÉ‡∏ä‡πâ action ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
- **run**: ‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
- **with**: ‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö action
- **env**: ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏†‡∏≤‡∏û‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°

---

## ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 4: ‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏à‡∏£‡∏¥‡∏á (Hands-on)

### ‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á Docker Compose Project

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ

```bash
# ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ
mkdir my-flask-app
cd my-flask-app

# ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå
mkdir -p backend/tests
mkdir -p .github/workflows

# ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏ß‡πà‡∏≤‡∏á‡πÜ
touch docker-compose.yml
touch Dockerfile
touch backend/app.py
touch backend/requirements.txt
touch backend/tests/test_app.py
touch .env.example
touch .gitignore
touch README.md
```

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå Docker Compose

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `docker-compose.yml` ‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏´‡∏•‡∏±‡∏Å:**

```yaml
# Modern Docker Compose - ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏ version

services:
  web:
    build: .
    container_name: flask_app
    ports:
      - "5000:5000"
    environment:
      - FLASK_ENV=development
      - DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@db:5432/${POSTGRES_DB}
      - REDIS_URL=redis://redis:6379
    depends_on:
      db:
        condition: service_healthy
      redis:
        condition: service_healthy
    volumes:
      - ./backend:/app
    restart: unless-stopped
    networks:
      - app-network
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:5000/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 40s

  db:
    image: postgres:16-alpine
    container_name: postgres_db
    environment:
      POSTGRES_DB: ${POSTGRES_DB}
      POSTGRES_USER: ${POSTGRES_USER}
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
    volumes:
      - postgres_data:/var/lib/postgresql/data
    ports:
      - "5432:5432"
    restart: unless-stopped
    networks:
      - app-network
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U ${POSTGRES_USER} -d ${POSTGRES_DB}"]
      interval: 10s
      timeout: 5s
      retries: 5
      start_period: 30s

  redis:
    image: redis:7-alpine
    container_name: redis_cache
    command: redis-server --appendonly yes
    volumes:
      - redis_data:/data
    ports:
      - "6379:6379"
    restart: unless-stopped
    networks:
      - app-network
    healthcheck:
      test: ["CMD", "redis-cli", "ping"]
      interval: 10s
      timeout: 5s
      retries: 5
      start_period: 20s

networks:
  app-network:
    driver: bridge

volumes:
  postgres_data:
    driver: local
  redis_data:
    driver: local
```

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `Dockerfile` ‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏´‡∏•‡∏±‡∏Å:**

```dockerfile
FROM python:3.9-slim

# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á dependencies ‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
RUN apt-get update && apt-get install -y \
    curl \
    && rm -rf /var/lib/apt/lists/*

WORKDIR /app

# Copy requirements ‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á
COPY backend/requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# Copy application code
COPY backend/ .

EXPOSE 5000

CMD ["python", "app.py"]
```

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `backend/app.py`:**

```python
from flask import Flask, jsonify
import os

app = Flask(__name__)

@app.route('/')
def hello():
    return jsonify({
        "message": "Hello World!",
        "status": "running"
    })

@app.route('/health')
def health():
    db_status = "connected" if os.getenv('DATABASE_URL') else "not configured"
    redis_status = "connected" if os.getenv('REDIS_URL') else "not configured"
    
    return jsonify({
        "status": "healthy",
        "database": db_status,
        "redis": redis_status
    })

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=5000, debug=True)
```

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `backend/requirements.txt`:**

```txt
# Web Framework
Flask==3.0.3

# Testing
pytest==8.3.3
pytest-cov==5.0.0

# Database
psycopg2-binary==2.9.9

# Cache
redis==5.1.1

# Additional
python-dotenv==1.0.1
```

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `backend/tests/test_app.py`:**

```python
import pytest
from app import app

@pytest.fixture
def client():
    app.config['TESTING'] = True
    with app.test_client() as client:
        yield client

def test_hello(client):
    """‡∏ó‡∏î‡∏™‡∏≠‡∏ö endpoint ‡∏´‡∏•‡∏±‡∏Å"""
    response = client.get('/')
    assert response.status_code == 200
    data = response.get_json()
    assert data['message'] == 'Hello World!'
    assert data['status'] == 'running'

def test_health(client):
    """‡∏ó‡∏î‡∏™‡∏≠‡∏ö health check endpoint"""
    response = client.get('/health')
    assert response.status_code == 200
    data = response.get_json()
    assert data['status'] == 'healthy'
    assert 'database' in data
    assert 'redis' in data

def test_math_operations():
    """‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô"""
    assert 1 + 1 == 2
    assert 2 * 3 == 6
```

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env.example`:**

```bash
# Database Configuration
POSTGRES_DB=mydb
POSTGRES_USER=user
POSTGRES_PASSWORD=your_password_here

# Application Configuration
FLASK_ENV=development
SECRET_KEY=your_secret_key_here

# Optional: Snyk Token (for security scanning)
SNYK_TOKEN=your_snyk_token_here
```

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.gitignore`:**

```gitignore
# Python
__pycache__/
*.py[cod]
*$py.class
*.so
.Python
env/
venv/
.venv/
pip-log.txt
.tox/
.coverage
.pytest_cache/
htmlcov/
*.egg-info/

# Environment variables
.env
.env.local
.env.production

# IDEs
.vscode/
.idea/
*.swp
*.swo
*~

# OS
.DS_Store
Thumbs.db

# Logs
*.log
logs/

# Database
*.db
*.sqlite3

# Docker
.dockerignore
```

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `README.md`:**

```markdown
# Flask CI/CD Demo

Demo project ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Lab 00 - Docker Compose ‡πÅ‡∏•‡∏∞ GitHub Actions

## Requirements

- Docker Desktop
- Git

## Quick Start

1. Clone repository:
\`\`\`bash
git clone <your-repo-url>
cd my-flask-app
\`\`\`

2. Setup environment:
\`\`\`bash
cp .env.example .env
# ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô .env
\`\`\`

3. Start services:
\`\`\`bash
docker compose up -d
\`\`\`

4. Test API:
\`\`\`bash
curl http://localhost:5000/
curl http://localhost:5000/health
\`\`\`

## Project Structure

\`\`\`
my-flask-app/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ app.py
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt
‚îÇ   ‚îî‚îÄ‚îÄ tests/
‚îÇ       ‚îî‚îÄ‚îÄ test_app.py
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îî‚îÄ‚îÄ workflows/
‚îÇ       ‚îî‚îÄ‚îÄ ci-cd.yml
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ .env.example
‚îú‚îÄ‚îÄ .gitignore
‚îî‚îÄ‚îÄ README.md
\`\`\`
```

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Environment Variables

```bash
# 1. ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå template
cp .env.example .env

# 2. Generate secure passwords
python3 << 'EOF'
import secrets
print("# Generated Secure Values")
print(f"POSTGRES_PASSWORD={secrets.token_urlsafe(24)}")
print(f"SECRET_KEY={secrets.token_urlsafe(32)}")
EOF

# 3. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå .env ‡∏î‡πâ‡∏ß‡∏¢ text editor ‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö
# Linux/Mac
nano .env
# ‡∏´‡∏£‡∏∑‡∏≠
vim .env
# ‡∏´‡∏£‡∏∑‡∏≠
code .env  # ‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ VS Code

# Windows
notepad .env
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env` ‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß:**
```bash
# Database Configuration
POSTGRES_DB=mydb
POSTGRES_USER=user
POSTGRES_PASSWORD=Xy7zABc123DEfghIJklMNopqRStuVWxyz

# Application Configuration
FLASK_ENV=development
SECRET_KEY=AbC123dEf456GhI789JkL012MnO345PqR678StU901VwX234YzA567BcD890
```

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 5: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Docker Compose

```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏•‡πâ‡∏ß
ls -la
# ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô: docker-compose.yml, Dockerfile, backend/, .env

# Validate docker-compose.yml
docker compose config
# ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ error ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤ YAML ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

# ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô services (build ‡πÅ‡∏•‡∏∞ start)
docker compose up -d --build

# ‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà‡πÉ‡∏´‡πâ services ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô (‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)
echo "Waiting for services to be ready..."
sleep 30

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö status ‡∏Ç‡∏≠‡∏á services
docker compose ps

# ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ:
# NAME            IMAGE              STATUS          PORTS
# flask_app       my-flask-app-web   Up 30 seconds   0.0.0.0:5000->5000/tcp
# postgres_db     postgres:16-alpine Up 30 seconds   0.0.0.0:5432->5432/tcp
# redis_cache     redis:7-alpine     Up 30 seconds   0.0.0.0:6379->6379/tcp

# ‡∏î‡∏π logs ‡∏Ç‡∏≠‡∏á‡∏ó‡∏∏‡∏Å services
docker compose logs

# ‡∏î‡∏π logs ‡πÅ‡∏ö‡∏ö follow (real-time)
docker compose logs -f

# ‡∏Å‡∏î Ctrl+C ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏¢‡∏∏‡∏î‡∏î‡∏π logs

# ‡∏î‡∏π logs ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ service
docker compose logs web
docker compose logs db
docker compose logs redis

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö health status
docker compose ps --format json | jq -r '.[] | "\(.Name): \(.State) - \(.Health)"'
```

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 6: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö API Endpoints

```bash
# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö root endpoint
curl http://localhost:5000/
# Expected output:
# {"message":"Hello World!","status":"running"}

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö health endpoint
curl http://localhost:5000/health
# Expected output:
# {"status":"healthy","database":"connected","redis":"connected"}

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ curl ‡πÅ‡∏ö‡∏ö pretty print
curl -s http://localhost:5000/ | python3 -m json.tool

# ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ httpie (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
http localhost:5000/
http localhost:5000/health

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ browser
# ‡πÄ‡∏õ‡∏¥‡∏î http://localhost:5000/
# ‡πÄ‡∏õ‡∏¥‡∏î http://localhost:5000/health
```

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 7: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Database ‡πÅ‡∏•‡∏∞ Redis

```bash
# ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÉ‡∏ô PostgreSQL container
docker compose exec db psql -U user -d mydb

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á SQL
# psql> SELECT version();
# psql> \l          (list databases)
# psql> \q          (quit)

# ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÉ‡∏ô Redis container
docker compose exec redis redis-cli

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á Redis
# redis> PING        (should return PONG)
# redis> SET test "Hello Redis"
# redis> GET test
# redis> exit

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏à‡∏≤‡∏Å web container
docker compose exec web bash
# ‡πÉ‡∏ô container:
# python3 -c "import psycopg2; print('PostgreSQL OK')"
# python3 -c "import redis; print('Redis OK')"
# exit
```

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 8: Run Tests

```bash
# Run tests ‡πÉ‡∏ô container
docker compose exec web pytest tests/ -v

# Run tests with coverage
docker compose exec web pytest tests/ -v --cov=. --cov-report=term

# Expected output:
# ======================== test session starts =========================
# test_app.py::test_hello PASSED                                 [ 33%]
# test_app.py::test_health PASSED                                [ 66%]
# test_app.py::test_math_operations PASSED                       [100%]
# ========================= 3 passed in 0.05s =========================
```

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 9: Debugging (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤)

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà 1: Port Already in Use**

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:**
```
Error: Ports are not available: exposing port TCP 0.0.0.0:5432 -> 127.0.0.1:0: 
listen tcp 0.0.0.0:5432: bind: address already in use
```

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏°‡∏µ PostgreSQL, Redis ‡∏´‡∏£‡∏∑‡∏≠ service ‡∏≠‡∏∑‡πà‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡∏ö‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡∏ó‡∏µ‡πà 1: ‡∏´‡∏≤ Process ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ Port ‡πÅ‡∏•‡∏∞‡∏õ‡∏¥‡∏î**

```bash
# ========================================
# Linux / macOS
# ========================================

# ‡∏´‡∏≤ process ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ port 5432 (PostgreSQL)
lsof -i :5432

# ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏ô‡∏µ‡πâ:
# COMMAND   PID  USER   FD   TYPE DEVICE SIZE/OFF NODE NAME
# postgres  1234 user   5u  IPv4  0x...      0t0  TCP *:postgresql (LISTEN)

# ‡∏õ‡∏¥‡∏î process (‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà 1234 ‡∏î‡πâ‡∏ß‡∏¢ PID ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ)
kill -9 1234

# ‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏¥‡∏î PostgreSQL ‡∏ó‡∏µ‡πà‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏ö‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á
# Ubuntu/Debian
sudo service postgresql stop

# macOS (‡∏ñ‡πâ‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏î‡πâ‡∏ß‡∏¢ Homebrew)
brew services stop postgresql

# ‡∏´‡∏≤ process ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ port 6379 (Redis)
lsof -i :6379

# ‡∏õ‡∏¥‡∏î Redis
kill -9 <PID>
# ‡∏´‡∏£‡∏∑‡∏≠
brew services stop redis

# ‡∏´‡∏≤ process ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ port 5000 (Flask)
lsof -i :5000
kill -9 <PID>

# ========================================
# Windows
# ========================================

# ‡∏´‡∏≤ process ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ port 5432
netstat -ano | findstr :5432

# ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á:
# TCP    0.0.0.0:5432    0.0.0.0:0    LISTENING    1234

# ‡∏õ‡∏¥‡∏î process (‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà 1234 ‡∏î‡πâ‡∏ß‡∏¢ PID ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ)
taskkill /PID 1234 /F

# ‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏¢‡∏∏‡∏î PostgreSQL service
net stop postgresql-x64-14

# ‡∏´‡∏≤ process ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ port 6379 (Redis)
netstat -ano | findstr :6379
taskkill /PID <PID> /F

# ‡∏´‡∏≤ process ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ port 5000 (Flask)
netstat -ano | findstr :5000
taskkill /PID <PID> /F
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡∏ó‡∏µ‡πà 2: ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô Port Mapping (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)**

‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå `docker-compose.yml`:

```yaml
services:
  db:
    image: postgres:16-alpine
    ports:
      - "5433:5432"  # ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å 5432:5432 ‡πÄ‡∏õ‡πá‡∏ô 5433:5432
      # ‚Üë port ‡∏ö‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏£‡∏≤ (host)
      #      ‚Üë port ‡πÉ‡∏ô container (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô)
    # ... config ‡∏≠‡∏∑‡πà‡∏ô‡πÜ

  redis:
    image: redis:7-alpine
    ports:
      - "6380:6379"  # ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å 6379:6379 ‡πÄ‡∏õ‡πá‡∏ô 6380:6379

  web:
    ports:
      - "5001:5000"  # ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å 5000:5000 ‡πÄ‡∏õ‡πá‡∏ô 5001:5000
```

**‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠:**

```bash
# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö API ‡∏î‡πâ‡∏ß‡∏¢ port ‡πÉ‡∏´‡∏°‡πà
curl http://localhost:5001/        # ‡πÅ‡∏ó‡∏ô 5000
curl http://localhost:5001/health

# ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ PostgreSQL ‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á
psql -h localhost -p 5433 -U user -d mydb  # ‡πÅ‡∏ó‡∏ô 5432

# ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Redis ‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á
redis-cli -h localhost -p 6380  # ‡πÅ‡∏ó‡∏ô 6379
```

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** 
- üîµ **Port ‡∏ã‡πâ‡∏≤‡∏¢ (5433)** = Port ‡∏ö‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏£‡∏≤ (host) - ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏î‡πâ
- üü¢ **Port ‡∏Ç‡∏ß‡∏≤ (5432)** = Port ‡πÉ‡∏ô container - ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô
- ‚úÖ Services ‡πÉ‡∏ô Docker ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡πÉ‡∏ä‡πâ port ‡πÄ‡∏î‡∏¥‡∏°‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏Å‡∏±‡∏ô

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡∏ó‡∏µ‡πà 3: ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á Expose Port (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)**

‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á database ‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏£‡∏≤ ‡πÉ‡∏´‡πâ‡∏•‡∏ö `ports:` ‡∏≠‡∏≠‡∏Å:

```yaml
services:
  db:
    image: postgres:16-alpine
    # ‡∏•‡∏ö ports ‡∏≠‡∏≠‡∏Å - ‡πÉ‡∏ä‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏†‡∏≤‡∏¢‡πÉ‡∏ô Docker network
    # ports:
    #   - "5432:5432"
    
  redis:
    image: redis:7-alpine
    # ‡∏•‡∏ö ports ‡∏≠‡∏≠‡∏Å
    # ports:
    #   - "6379:6379"
```

**‡∏Ç‡πâ‡∏≠‡∏î‡∏µ:**
- ‚úÖ ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ port conflict
- ‚úÖ ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏Å‡∏ß‡πà‡∏≤ (‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏à‡∏≤‡∏Å‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å)

**‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢:**
- ‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á database ‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
- ‚ùå ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ `docker compose exec` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡∏ó‡∏µ‡πà 4: ‡πÉ‡∏ä‡πâ Script ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏´‡∏¢‡∏∏‡∏î Services**

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `check-ports.sh`:

```bash
#!/bin/bash

echo "üîç Checking ports..."
echo ""

# Function to check and kill process
check_and_kill() {
    PORT=$1
    SERVICE=$2
    
    if lsof -Pi :$PORT -sTCP:LISTEN -t >/dev/null ; then
        echo "‚ö†Ô∏è  Port $PORT ($SERVICE) is in use"
        PID=$(lsof -Pi :$PORT -sTCP:LISTEN -t)
        echo "   PID: $PID"
        read -p "   Do you want to kill this process? (y/n) " -n 1 -r
        echo
        if [[ $REPLY =~ ^[Yy]$ ]]; then
            kill -9 $PID
            echo "   ‚úÖ Process killed"
        fi
    else
        echo "‚úÖ Port $PORT ($SERVICE) is available"
    fi
}

# Check ports
check_and_kill 5000 "Flask/Web"
check_and_kill 5432 "PostgreSQL"
check_and_kill 6379 "Redis"

echo ""
echo "üéâ Port check complete!"
```

‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:
```bash
chmod +x check-ports.sh
./check-ports.sh
```

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà 2: Services ‡πÑ‡∏°‡πà Healthy**

```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö logs ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
docker compose logs --tail=50 web
docker compose logs --tail=50 db
docker compose logs --tail=50 redis

# ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÉ‡∏ô container ‡πÄ‡∏û‡∏∑‡πà‡∏≠ debug
docker compose exec web bash
docker compose exec db bash
docker compose exec redis sh

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö network
docker compose exec web ping db
docker compose exec web ping redis

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö environment variables
docker compose exec web env | grep -E "(DATABASE|REDIS|FLASK)"

# Restart service ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
docker compose restart web

# Rebuild ‡πÅ‡∏•‡∏∞ restart
docker compose up -d --build web
```

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà 3: Database Connection Error**

```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ PostgreSQL ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
docker compose exec db pg_isready -U user -d mydb

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ database ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
docker compose exec db psql -U user -d mydb -c "\l"

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö connection ‡∏à‡∏≤‡∏Å web container
docker compose exec web bash -c 'psql $DATABASE_URL -c "SELECT 1"'

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö logs
docker compose logs db | grep -i error
```

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà 4: Permission Denied**

```bash
# ‡∏ñ‡πâ‡∏≤‡πÄ‡∏à‡∏≠ permission denied ‡∏Å‡∏±‡∏ö volumes
sudo chown -R $USER:$USER .

# ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô permissions
chmod -R 755 backend/
```

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà 5: Container Exit ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ**

```bash
# ‡∏î‡∏π exit code
docker compose ps

# ‡∏î‡∏π logs
docker compose logs web

# ‡∏£‡∏±‡∏ô container ‡πÅ‡∏ö‡∏ö interactive ‡πÄ‡∏û‡∏∑‡πà‡∏≠ debug
docker compose run --rm web bash

# ‡∏Ç‡πâ‡∏≤‡∏á‡πÉ‡∏ô‡∏•‡∏≠‡∏á‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á
python app.py
```

**Quick Fix Script**

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `fix-common-issues.sh`:

```bash
#!/bin/bash

echo "üîß Fixing common Docker Compose issues..."
echo ""

# Stop all containers
echo "1. Stopping all containers..."
docker compose down -v

# Kill processes on required ports
echo "2. Freeing up ports..."
for port in 5000 5432 6379; do
    if lsof -Pi :$port -sTCP:LISTEN -t >/dev/null 2>&1; then
        echo "   Killing process on port $port..."
        kill -9 $(lsof -Pi :$port -sTCP:LISTEN -t) 2>/dev/null
    fi
done

# Clean up Docker
echo "3. Cleaning up Docker..."
docker system prune -f

# Rebuild and start
echo "4. Rebuilding and starting services..."
docker compose up -d --build

# Wait for services
echo "5. Waiting for services to be ready..."
sleep 30

# Check status
echo "6. Checking status..."
docker compose ps

echo ""
echo "‚úÖ Done! Check if all services are running and healthy."
```

‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:
```bash
chmod +x fix-common-issues.sh
./fix-common-issues.sh
```

### ‡∏™‡∏£‡∏∏‡∏õ: ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ Port Conflict

**‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö:**

1. ‚úÖ **‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô Port Mapping** (‡∏á‡πà‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î)
   ```yaml
   ports:
     - "5433:5432"  # ‡πÉ‡∏ä‡πâ 5433 ‡πÅ‡∏ó‡∏ô 5432
   ```

2. ‚úÖ **‡∏õ‡∏¥‡∏î Service ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà** (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ)
   ```bash
   sudo service postgresql stop
   brew services stop postgresql
   ```

3. ‚úÖ **‡πÑ‡∏°‡πà Expose Port** (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏à‡∏≤‡∏Å‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å)
   ```yaml
   # ‡∏•‡∏ö ports: ‡∏≠‡∏≠‡∏Å
   ```

4. ‚úÖ **‡πÉ‡∏ä‡πâ Script ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥** (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏à‡∏≠‡∏ö‡πà‡∏≠‡∏¢‡πÜ)
   ```bash
   ./check-ports.sh
   ./fix-common-issues.sh
   ```

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 10: ‡∏´‡∏¢‡∏∏‡∏î‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î

```bash
# ‡∏´‡∏¢‡∏∏‡∏î services (‡πÅ‡∏ï‡πà‡πÄ‡∏Å‡πá‡∏ö data)
docker compose stop

# ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏´‡∏°‡πà
docker compose start

# ‡∏´‡∏¢‡∏∏‡∏î‡πÅ‡∏•‡∏∞‡∏•‡∏ö containers (‡πÅ‡∏ï‡πà‡πÄ‡∏Å‡πá‡∏ö volumes)
docker compose down

# ‡∏´‡∏¢‡∏∏‡∏î ‡∏•‡∏ö containers ‡πÅ‡∏•‡∏∞ volumes (‚ö†Ô∏è ‡∏à‡∏∞‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡πâ‡∏ß‡∏¢!)
docker compose down -v

# ‡∏•‡∏ö‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏ß‡∏° images
docker compose down -v --rmi all

# ‡∏•‡∏ö system cache (optional)
docker system prune -f
```

### ‡∏™‡∏£‡∏∏‡∏õ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:

```bash
# 1. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á
mkdir -p my-flask-app/backend/tests
cd my-flask-app

# 2. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏ï‡∏≤‡∏° template ‡∏Ç‡πâ‡∏≤‡∏á‡∏ö‡∏ô)
# - docker-compose.yml
# - Dockerfile  
# - backend/app.py
# - backend/requirements.txt
# - backend/tests/test_app.py
# - .env.example
# - .gitignore

# 3. Setup environment
cp .env.example .env
nano .env  # ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç passwords

# 4. Start ‡πÅ‡∏•‡∏∞ test
docker compose up -d --build
docker compose ps
curl http://localhost:5000/
curl http://localhost:5000/health
docker compose exec web pytest tests/ -v

# 5. ‡∏´‡∏¢‡∏∏‡∏î
docker compose down
```

### Checklist ‡∏Å‡πà‡∏≠‡∏ô‡πÑ‡∏õ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ:

- [ ] ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏£‡∏ö
- [ ] .env ‡∏°‡∏µ passwords ‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢
- [ ] `docker compose config` ‡πÑ‡∏°‡πà‡∏°‡∏µ error
- [ ] Services ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î status ‡πÄ‡∏õ‡πá‡∏ô "Up" ‡πÅ‡∏•‡∏∞ "healthy"
- [ ] API endpoints ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- [ ] Tests ‡∏ú‡πà‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
- [ ] Database ‡πÅ‡∏•‡∏∞ Redis ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ
```

### ‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà 2: ‡∏™‡∏£‡πâ‡∏≤‡∏á GitHub Actions Workflow

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á GitHub Repository

```bash
# Initial commit
git init
git add .
git commit -m "Initial commit: Flask app setup"

# ‡∏™‡∏£‡πâ‡∏≤‡∏á repository ‡∏ö‡∏ô GitHub ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠
git remote add origin https://github.com/YOUR_USERNAME/flask-ci-cd-demo.git
git branch -M main
git push -u origin main
```

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ GitHub Secrets

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà GitHub Repository > **Settings**
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **Secrets and variables** > **Actions**
3. ‡∏Ñ‡∏•‡∏¥‡∏Å **New repository secret** ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏û‡∏¥‡πà‡∏°:

| Secret Name | ‡∏ß‡∏¥‡∏ò‡∏µ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡πà‡∏≤ |
|-------------|--------------|
| `POSTGRES_PASSWORD` | `python -c "import secrets; print(secrets.token_urlsafe(24))"` |
| `POSTGRES_USER` | `postgres` |
| `POSTGRES_DB` | `test_db` |
| `SECRET_KEY` | `python -c "import secrets; print(secrets.token_urlsafe(32))"` |
| `JWT_SECRET` | `python -c "import secrets; print(secrets.token_urlsafe(24))"` |
| `SNYK_TOKEN` | ‡πÑ‡∏õ‡∏ó‡∏µ‡πà https://snyk.io > Account Settings > Auth Token |

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏™‡∏£‡πâ‡∏≤‡∏á Workflow File

```bash
mkdir -p .github/workflows
# ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå .github/workflows/ci-cd.yml
# ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î workflow ‡∏à‡∏≤‡∏Å‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≤‡∏á‡∏ï‡πâ‡∏ô
```

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4: Push ‡πÅ‡∏•‡∏∞‡∏ó‡∏î‡∏™‡∏≠‡∏ö

```bash
git add .github/workflows/ci-cd.yml
git commit -m "Add CI/CD pipeline"
git push origin main

# ‡πÑ‡∏õ‡∏î‡∏π‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÉ‡∏ô GitHub Actions tab
```

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 5: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Pull Request

```bash
git checkout -b feature/test-pr
echo "# Test PR" >> README.md
git add README.md
git commit -m "Test PR workflow"
git push origin feature/test-pr

# ‡∏™‡∏£‡πâ‡∏≤‡∏á Pull Request ‡∏ö‡∏ô GitHub
# ‡∏î‡∏π workflow ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞ comment ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á
```

---

## ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 5: ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÄ‡∏™‡∏£‡∏¥‡∏°

### Makefile ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Command Shortcuts

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `Makefile`:

```makefile
.PHONY: help build up down logs test clean

COMPOSE=docker compose

help:
	@echo "Available commands:"
	@echo "  make build   - Build images"
	@echo "  make up      - Start services"
	@echo "  make down    - Stop services"
	@echo "  make logs    - Show logs"
	@echo "  make test    - Run tests"
	@echo "  make clean   - Clean up"

build:
	$(COMPOSE) build

up:
	$(COMPOSE) up -d
	@sleep 10
	@echo "‚úÖ Services started"
	@$(COMPOSE) ps

down:
	$(COMPOSE) down

logs:
	$(COMPOSE) logs -f

test:
	$(COMPOSE) exec web pytest tests/ -v

clean:
	$(COMPOSE) down -v
	docker system prune -f
```

‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:
```bash
make help
make up
make test
make logs
make down
```

---

## ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 6: ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö ‡πÄ‡∏Å‡πà‡∏≤ vs ‡πÉ‡∏´‡∏°‡πà

### ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö ‡πÄ‡∏Å‡πà‡∏≤ vs ‡πÉ‡∏´‡∏°‡πà

| ‡∏î‡πâ‡∏≤‡∏ô | ‡πÄ‡∏Å‡πà‡∏≤ (‡πÑ‡∏°‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥) | ‡πÉ‡∏´‡∏°‡πà (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥) | ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏• |
|------|------------------|--------------|--------|
| **Version** | `version: '3.8'` | ‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏ (Compose Spec V2) | ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏á‡∏ß‡∏•‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á version compatibility |
| **PostgreSQL** | `postgres:13` (374MB) | `postgres:16-alpine` (108MB) | ‡πÄ‡∏•‡πá‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 71%, ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏Å‡∏ß‡πà‡∏≤, features ‡πÉ‡∏´‡∏°‡πà |
| **Redis** | `redis:6` (105MB) | `redis:7-alpine` (31MB) | ‡πÄ‡∏•‡πá‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 70%, ‡∏°‡∏µ Redis Stack |
| **Flask** | `Flask==2.3.3` | `Flask==3.0.3` | Security fixes, async support ‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô |
| **pytest** | `pytest==7.4.0` | `pytest==8.3.3` | Performance improvements |
| **Health Check** | ‡πÑ‡∏°‡πà‡∏°‡∏µ | ‡∏°‡∏µ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å service | ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô race conditions |
| **depends_on** | ‡πÅ‡∏Ñ‡πà list | `condition: service_healthy` | ‡∏£‡∏≠‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞ ready ‡∏à‡∏£‡∏¥‡∏á |
| **Password** | hardcode | `${{ secrets.XXX }}` | Security best practice |
| **CLI** | `docker-compose` | `docker compose` | V2 ‡πÄ‡∏£‡πá‡∏ß‡∏Å‡∏ß‡πà‡∏≤ 50% |

### ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö Python Packages

| Package | ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏Å‡πà‡∏≤ | ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà | Release Date | Key Changes |
|---------|--------------|--------------|--------------|-------------|
| **Flask** | 2.3.3 (Aug 2023) | 3.0.3 (May 2024) | 9 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô | Security patches, Python 3.12 support |
| **pytest** | 7.4.0 (Jun 2023) | 8.3.3 (Sep 2024) | 15 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô | Performance +30%, better error messages |
| **pytest-cov** | 4.1.0 (May 2023) | 5.0.0 (Nov 2023) | 6 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô | pytest 8 compatibility |
| **psycopg2** | 2.9.7 (Aug 2023) | 2.9.9 (Oct 2023) | 2 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô | Bug fixes, PostgreSQL 16 support |
| **redis** | 4.6.0 (Jun 2023) | 5.1.1 (Oct 2024) | 16 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô | Performance improvements, Redis Stack |

### ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå

#### ‚ö†Ô∏è ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏Å‡πà‡∏≤:

1. **Security Vulnerabilities**
   - CVE patches ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
   - ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÇ‡∏à‡∏°‡∏ï‡∏µ

2. **Compatibility Issues**
   - ‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Python 3.12+
   - ‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö PostgreSQL 16 features

3. **Missing Features**
   - ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤
   - Performance ‡∏ä‡πâ‡∏≤‡∏Å‡∏ß‡πà‡∏≤

#### ‚úÖ ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà:

1. **Security**
   - ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö security patches ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
   - ‡∏õ‡∏¥‡∏î‡∏ä‡πà‡∏≠‡∏á‡πÇ‡∏´‡∏ß‡πà‡∏ó‡∏µ‡πà‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å

2. **Performance**
   - pytest 8 ‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô 30%
   - Redis 5 ‡∏°‡∏µ optimizations ‡πÉ‡∏´‡∏°‡πà

3. **Features**
   - Flask 3 ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö async ‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô
   - pytest 8 ‡∏°‡∏µ error messages ‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤

4. **Support**
   - Community support ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤
   - Documentation ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏Å‡∏ß‡πà‡∏≤

### GitHub Actions

| ‡∏î‡πâ‡∏≤‡∏ô | ‡πÄ‡∏Å‡πà‡∏≤ (‡πÑ‡∏°‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥) | ‡πÉ‡∏´‡∏°‡πà (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥) |
|------|------------------|--------------|
| **Permissions** | ‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î | Least Privilege |
| **Actions** | v3 | v4-v5 |
| **Caching** | ‡πÑ‡∏°‡πà‡∏°‡∏µ | `cache: 'pip'` |
| **Security Scans** | 1-2 tools | 6 tools |
| **Image Tags** | `postgres:13` | `postgres:16-alpine` |

### ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ

| Metric | Before | After | Improvement |
|--------|--------|-------|-------------|
| **Image Size** | 479MB | 139MB | -71% |
| **CI Speed** | 5 min | 2 min | +150% |
| **Security Coverage** | Basic | Comprehensive | +400% |
| **Reliability** | Race conditions | Health checks | +100% |

---

## ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 7: Troubleshooting

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

#### 1. Docker Compose ‡πÑ‡∏°‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:** Services ‡πÑ‡∏°‡πà start ‡∏´‡∏£‡∏∑‡∏≠ exit ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ

```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö logs
docker compose logs

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö configuration
docker compose config

# Validate YAML
docker compose config --quiet && echo "‚úÖ Valid" || echo "‚ùå Invalid"

# ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ cache
docker compose down -v
docker compose up -d --build
```

#### 2. GitHub Actions Syntax Errors

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢:**

**Error 1: Unexpected token in bash script**
```
syntax error near unexpected token `secrets.token_urlsafe'
```

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÉ‡∏ä‡πâ Python code ‡πÉ‡∏ô bash script ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á

**‚ùå ‡∏ú‡∏¥‡∏î:**
```yaml
- name: Generate password
  run: echo "PASSWORD=secrets.token_urlsafe(24)" >> $GITHUB_ENV
```

**‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á:**
```yaml
- name: Generate password
  run: |
    PASSWORD=$(python3 -c "import secrets; print(secrets.token_urlsafe(24))")
    echo "PASSWORD=$PASSWORD" >> $GITHUB_ENV
```

**Error 2: Secrets not available**
```
Error: Missing required secret: POSTGRES_PASSWORD
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà GitHub Repository > Settings
2. Secrets and variables > Actions
3. ‡πÄ‡∏û‡∏¥‡πà‡∏° secret ‡∏ó‡∏µ‡πà‡∏´‡∏≤‡∏¢‡πÑ‡∏õ

**Error 3: Invalid YAML syntax**
```
Error: The workflow is not valid. .github/workflows/ci-cd.yml: 
unexpected value 'run'
```

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** Indentation ‡∏ú‡∏¥‡∏î (YAML ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ spaces ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà tabs)

**‚ùå ‡∏ú‡∏¥‡∏î:**
```yaml
steps:
  - name: Test
  run: echo "test"  # indentation ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
```

**‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á:**
```yaml
steps:
  - name: Test
    run: echo "test"  # indent 4 spaces
```

**Error 4: Service health check failed**
```
Error: Service postgres didn't become healthy in time
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
```yaml
services:
  postgres:
    options: >-
      --health-cmd "pg_isready -U ${{ secrets.POSTGRES_USER }}"
      --health-interval 10s
      --health-timeout 5s
      --health-retries 10  # ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á
      --health-start-period 40s  # ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡∏£‡∏≠
```

**Error 5: Permission denied**
```
Error: permission denied while trying to connect to the Docker daemon
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:** ‡πÉ‡∏ä‡πâ `ubuntu-latest` runner (‡∏°‡∏µ Docker ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ)
```yaml
jobs:
  test:
    runs-on: ubuntu-latest  # ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà self-hosted
```

**Error 6: Module not found**
```
ModuleNotFoundError: No module named 'flask'
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:** ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á dependencies ‡πÅ‡∏•‡πâ‡∏ß
```yaml
- name: Install dependencies
  run: |
    cd backend
    pip install -r requirements.txt

- name: Run tests
  run: |
    cd backend  # ‡∏ï‡πâ‡∏≠‡∏á cd ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á!
    pytest tests/ -v
```

#### 3. Database Connection Failed

```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ PostgreSQL ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
docker compose exec db pg_isready -U user -d mydb

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ database ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
docker compose exec db psql -U user -d mydb -c "\l"

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö connection ‡∏à‡∏≤‡∏Å web container
docker compose exec web bash -c 'psql $DATABASE_URL -c "SELECT 1"'

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö logs
docker compose logs db | grep -i error
```

#### 4. Snyk Token Issues

**Error: Authentication failed**
```
Error: Invalid Snyk token
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà https://snyk.io
2. Login > Account Settings > General
3. ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å Auth Token ‡πÉ‡∏´‡∏°‡πà
4. ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÉ‡∏ô GitHub Secrets

**‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Token:**
```bash
# ‡πÉ‡∏ô local machine
export SNYK_TOKEN="your-token-here"
snyk auth
snyk test
```

#### 5. Tests Failed

**Error: Test discovery failed**
```
ERROR: file not found: tests/
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
```yaml
- name: Run tests
  run: |
    cd backend
    python -m pytest tests/ -v  # ‡πÉ‡∏ä‡πâ python -m pytest
  working-directory: backend  # ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ working-directory
```

**Error: Import error**
```
ImportError: cannot import name 'app' from 'app'
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:** ‡πÄ‡∏û‡∏¥‡πà‡∏° `__init__.py` ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏±‡πâ‡∏á PYTHONPATH
```yaml
- name: Run tests
  run: |
    cd backend
    export PYTHONPATH=.
    pytest tests/ -v
```

### Debug GitHub Actions Locally

**‡πÉ‡∏ä‡πâ `act` tool ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ô workflow ‡∏ö‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á:**

```bash
# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á act
# macOS
brew install act

# Linux
curl https://raw.githubusercontent.com/nektos/act/master/install.sh | sudo bash

# Windows
choco install act-cli

# ‡∏£‡∏±‡∏ô workflow
act -j test

# ‡∏£‡∏±‡∏ô‡∏û‡∏£‡πâ‡∏≠‡∏° secrets
act -j test --secret-file .env

# ‡∏£‡∏±‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞ step
act -j test --step "Run tests"

# ‡πÅ‡∏™‡∏î‡∏á jobs ‡∏ó‡∏µ‡πà‡∏°‡∏µ
act -l

# Dry run (‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏£‡∏±‡∏ô‡∏à‡∏£‡∏¥‡∏á)
act -j test --dryrun
```

### Troubleshooting Checklist

**‡πÄ‡∏°‡∏∑‡πà‡∏≠ GitHub Actions ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß:**

- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö logs ‡πÉ‡∏ô Actions tab
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ Secrets ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô
- [ ] Validate YAML syntax (https://www.yamllint.com/)
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö indentation (‡πÉ‡∏ä‡πâ spaces ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà tabs)
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö locally ‡∏î‡πâ‡∏ß‡∏¢ `act`
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö service health checks
- [ ] ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤ dependencies ‡∏ñ‡∏π‡∏Å‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡πâ‡∏ß
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö working directory
- [ ] ‡∏î‡∏π previous successful runs ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö

### Common GitHub Actions Errors ‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ

| Error | ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏ | ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ |
|-------|--------|---------|
| `syntax error near unexpected token` | Python code ‡πÉ‡∏ô bash | ‡πÉ‡∏ä‡πâ `python3 -c "..."` |
| `Missing required secret` | ‡πÑ‡∏°‡πà‡∏°‡∏µ secret | ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô Settings > Secrets |
| `Invalid YAML` | Indentation ‡∏ú‡∏¥‡∏î | ‡πÉ‡∏ä‡πâ spaces (2 ‡∏´‡∏£‡∏∑‡∏≠ 4) |
| `Service not healthy` | Health check timeout | ‡πÄ‡∏û‡∏¥‡πà‡∏° retries/start-period |
| `Permission denied` | Docker daemon access | ‡πÉ‡∏ä‡πâ ubuntu-latest runner |
| `Module not found` | Dependencies ‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö | ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö pip install |
| `File not found` | Working directory ‡∏ú‡∏¥‡∏î | ‡πÉ‡∏ä‡πâ `cd` ‡∏´‡∏£‡∏∑‡∏≠ `working-directory` |
| `Authentication failed` | Token ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏ | ‡∏™‡∏£‡πâ‡∏≤‡∏á token ‡πÉ‡∏´‡∏°‡πà |
| `Build failed` | Dependencies conflict | ‡πÉ‡∏ä‡πâ virtual environment |
| `Timeout` | ‡∏£‡∏±‡∏ô‡∏ô‡∏≤‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ | ‡πÄ‡∏û‡∏¥‡πà‡∏° `timeout-minutes` |

### Example: Complete Debug Workflow

‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô workflow ‡πÄ‡∏û‡∏∑‡πà‡∏≠ debug:

```yaml
- name: Debug Information
  if: always()  # ‡∏£‡∏±‡∏ô‡πÄ‡∏™‡∏°‡∏≠‡πÅ‡∏°‡πâ step ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏∞‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß
  run: |
    echo "=== System Information ==="
    uname -a
    python3 --version
    pip --version
    docker --version
    
    echo ""
    echo "=== Environment Variables ==="
    env | grep -E "^(GITHUB_|RUNNER_)" | sort
    
    echo ""
    echo "=== Current Directory ==="
    pwd
    ls -la
    
    echo ""
    echo "=== Python Packages ==="
    pip list
    
    echo ""
    echo "=== Service Status ==="
    docker ps
    
    echo ""
    echo "=== Network ==="
    docker network ls
    
    echo ""
    echo "=== Disk Space ==="
    df -h

- name: Debug Services
  if: failure()  # ‡∏£‡∏±‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏°‡∏∑‡πà‡∏≠ step ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß
  run: |
    echo "=== PostgreSQL Logs ==="
    docker logs $(docker ps -q -f "ancestor=postgres:16-alpine") || echo "No PostgreSQL container"
    
    echo ""
    echo "=== Redis Logs ==="
    docker logs $(docker ps -q -f "ancestor=redis:7-alpine") || echo "No Redis container"

- name: Upload logs on failure
  if: failure()
  uses: actions/upload-artifact@v4
  with:
    name: debug-logs
    path: |
      /var/log/
      ~/.cache/pip/log/
    retention-days: 7
```

### Quick Fix Script ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Local Testing

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `test-ci-locally.sh`:

```bash
#!/bin/bash

echo "üß™ Testing CI workflow locally..."
echo ""

# Check if act is installed
if ! command -v act &> /dev/null; then
    echo "‚ùå 'act' is not installed"
    echo "Install: brew install act (macOS) or visit https://github.com/nektos/act"
    exit 1
fi

# Create .secrets file if not exists
if [ ! -f .secrets ]; then
    echo "üìù Creating .secrets file..."
    cat > .secrets << EOF
POSTGRES_PASSWORD=test_password_123
POSTGRES_USER=user
POSTGRES_DB=test_db
SECRET_KEY=test_secret_key_abc
JWT_SECRET=test_jwt_secret_xyz
EOF
fi

# Run act
echo "üöÄ Running workflow..."
act -j test --secret-file .secrets -v

echo ""
echo "‚úÖ Local test complete!"
```

‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:
```bash
chmod +x test-ci-locally.sh
./test-ci-locally.sh
```

#### 2. Database Connection Failed

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:** Web app ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ database

```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ PostgreSQL ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
docker compose exec db pg_isready -U postgres

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö logs
docker compose logs db

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö connection
docker compose exec web bash -c 'psql $DATABASE_URL -c "SELECT 1"'

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö network
docker compose exec web ping db
```

**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:** ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ `depends_on: { condition: service_healthy }` ‡πÅ‡∏•‡∏∞ `healthcheck`

#### 3. GitHub Actions ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:** Workflow ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏´‡∏•‡∏±‡∏á push

```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Secrets
# ‡πÑ‡∏õ‡∏ó‡∏µ‡πà GitHub Settings > Secrets > Actions
# ‡∏î‡∏π‡∏ß‡πà‡∏≤‡∏°‡∏µ secrets ‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏£‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö syntax
# ‡πÉ‡∏ä‡πâ YAML validator ‡∏´‡∏£‡∏∑‡∏≠ GitHub Actions VSCode extension

# Debug locally ‡∏î‡πâ‡∏ß‡∏¢ act
act -j test --secret-file .env
```

**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:** 
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏° secrets ‡∏Ñ‡∏£‡∏ö 6-7 ‡∏ï‡∏±‡∏ß
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ä‡∏∑‡πà‡∏≠ secrets ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÉ‡∏ô workflow
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö permissions

#### 4. Snyk Token ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:** Snyk scan failed with authentication error

```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ token ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
# 1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà https://snyk.io
# 2. Account Settings > General > Auth Token
# 3. ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å token ‡πÉ‡∏´‡∏°‡πà
# 4. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô GitHub Secrets

# Test token locally
snyk auth $SNYK_TOKEN
snyk test
```

#### 5. Port Already in Use

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:** Error: port 5432 is already allocated

```bash
# ‡∏´‡∏≤ process ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ port
lsof -i :5432

# ‡∏´‡∏¢‡∏∏‡∏î process
kill -9 <PID>

# ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô port mapping
# ‡πÉ‡∏ô docker-compose.yml
ports:
  - "5433:5432"  # ‡πÉ‡∏ä‡πâ port 5433 ‡πÅ‡∏ó‡∏ô
```

---

## ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 8: Best Practices

### ‚úÖ ‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥ (DO)

1. **Docker Compose**
   - ‡πÉ‡∏ä‡πâ Alpine images ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ
   - ‡∏Å‡∏≥‡∏´‡∏ô‡∏î healthcheck ‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å service
   - ‡πÉ‡∏ä‡πâ depends_on ‡∏Å‡∏±‡∏ö condition: service_healthy
   - ‡πÉ‡∏ä‡πâ named volumes ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡∏≤‡∏ß‡∏£
   - ‡∏Å‡∏≥‡∏´‡∏ô‡∏î resource limits ‡πÉ‡∏ô production

2. **GitHub Actions**
   - ‡∏Å‡∏≥‡∏´‡∏ô‡∏î permissions ‡πÅ‡∏ö‡∏ö Least Privilege
   - ‡πÉ‡∏ä‡πâ Actions ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
   - ‡πÄ‡∏õ‡∏¥‡∏î caching ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß
   - ‡πÉ‡∏ä‡πâ secrets ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç
   - ‡∏£‡∏ß‡∏° security scanning ‡πÉ‡∏ô pipeline

3. **Security**
   - ‡πÑ‡∏°‡πà hardcode passwords
   - ‡πÉ‡∏ä‡πâ environment variables
   - Scan ‡∏ó‡∏∏‡∏Å layer (code, dependencies, container)
   - Upload SARIF ‡πÄ‡∏Ç‡πâ‡∏≤ GitHub Security tab
   - Review security findings ‡∏Å‡πà‡∏≠‡∏ô merge

4. **Development**
   - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö locally ‡∏Å‡πà‡∏≠‡∏ô push
   - ‡πÉ‡∏ä‡πâ .env.example ‡πÄ‡∏õ‡πá‡∏ô template
   - ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô tests ‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô
   - Document ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ó‡∏≥
   - Version control everything

### ‚ùå ‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥ (DON'T)

1. **Docker Compose**
   - ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏ä‡πâ latest tag ‡πÉ‡∏ô production
   - ‡∏≠‡∏¢‡πà‡∏≤‡∏Ç‡πâ‡∏≤‡∏° health checks
   - ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏ä‡πâ root user ‡πÉ‡∏ô container
   - ‡∏≠‡∏¢‡πà‡∏≤‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô container
   - ‡∏≠‡∏¢‡πà‡∏≤ hardcode configuration

2. **GitHub Actions**
   - ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ permissions ‡πÄ‡∏Å‡∏¥‡∏ô‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
   - ‡∏≠‡∏¢‡πà‡∏≤‡∏Ç‡πâ‡∏≤‡∏° security scans
   - ‡∏≠‡∏¢‡πà‡∏≤ commit secrets ‡πÉ‡∏ô code
   - ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏ä‡πâ self-hosted runners ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏°‡∏±‡∏î‡∏£‡∏∞‡∏ß‡∏±‡∏á
   - ‡∏≠‡∏¢‡πà‡∏≤ deploy ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà test

3. **Security**
   - ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏ä‡πâ default passwords
   - ‡∏≠‡∏¢‡πà‡∏≤‡πÄ‡∏õ‡∏¥‡∏î ports ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
   - ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏ä‡πâ outdated images
   - ‡∏≠‡∏¢‡πà‡∏≤ ignore security warnings
   - ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ secrets ‡πÉ‡∏ô logs

4. **Development**
   - ‡∏≠‡∏¢‡πà‡∏≤ commit .env files
   - ‡∏≠‡∏¢‡πà‡∏≤‡∏Ç‡πâ‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô tests
   - ‡∏≠‡∏¢‡πà‡∏≤ push ‡∏ï‡∏£‡∏á‡πÑ‡∏õ‡∏¢‡∏±‡∏á main
   - ‡∏≠‡∏¢‡πà‡∏≤ ignore CI/CD failures
   - ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏ä‡πâ production data ‡πÉ‡∏ô development

---

## ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 9: Snyk Configuration

### ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Snyk

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏™‡∏°‡∏±‡∏Ñ‡∏£ Snyk Account

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà https://snyk.io
2. ‡∏Ñ‡∏•‡∏¥‡∏Å "Sign up for free"
3. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å "Sign up with GitHub"
4. ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï permissions

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏™‡∏£‡πâ‡∏≤‡∏á API Token

1. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà avatar > Account settings
2. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πá‡∏ö "General"
3. ‡∏´‡∏≤‡∏™‡πà‡∏ß‡∏ô "AUTH TOKEN"
4. ‡∏Ñ‡∏•‡∏¥‡∏Å "click to show"
5. ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å token (‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏î‡πâ‡∏ß‡∏¢ `snyk-...`)

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡πÄ‡∏û‡∏¥‡πà‡∏° Token ‡πÉ‡∏ô GitHub

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà GitHub Repository > Settings
2. Secrets and variables > Actions
3. New repository secret
4. Name: `SNYK_TOKEN`
5. Value: paste token
6. Add secret

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4: ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Repository (Optional)

1. ‡πÉ‡∏ô Snyk dashboard: Add project
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å GitHub
3. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å repository
4. ‡∏Ñ‡∏•‡∏¥‡∏Å "Add selected repositories"

### Snyk Policy File (Advanced)

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.snyk`:

```yaml
# Snyk policy file
version: v1.25.0

# Ignore specific vulnerabilities (‡πÉ‡∏ä‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏°‡∏±‡∏î‡∏£‡∏∞‡∏ß‡∏±‡∏á!)
ignore:
  'SNYK-PYTHON-REQUESTS-6840444':
    - '*':
        reason: >
          False positive in our context.
          We validate all external inputs.
        expires: '2025-12-31T23:59:59.000Z'
        created: '2024-01-15T10:00:00.000Z'

# Language settings
language-settings:
  python: '3.9'

# Fail thresholds
failThreshold:
  high: 0
  medium: 5
  low: 10
```

### ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á Snyk Commands

```yaml
# 1. Test Dependencies (SCA)
command: test
args: --severity-threshold=high --file=backend/requirements.txt
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö vulnerabilities ‡πÉ‡∏ô dependencies

# 2. Test Code (SAST)
command: code test
args: --severity-threshold=medium --sarif-file-output=snyk-code.sarif
# ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå source code

# 3. Monitor Project
command: monitor
args: --file=backend/requirements.txt
# ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ dashboard ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°
```

---

## ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 10: ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö Security Tools

### ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠ Security Scanning

| Tool | Type | Language | Coverage | Cost | Integration |
|------|------|----------|----------|------|-------------|
| **Snyk** | SCA + SAST | Multi | Dependencies + Code | Free tier | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |
| **Trivy** | SCA + Container | Multi | Dependencies + Images | Free | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |
| **Safety** | SCA | Python | Dependencies only | Free | ‚≠ê‚≠ê‚≠ê‚≠ê |
| **Bandit** | SAST | Python | Code only | Free | ‚≠ê‚≠ê‚≠ê‚≠ê |
| **Semgrep** | SAST | Multi | Code patterns | Free + Paid | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |
| **TruffleHog** | Secrets | All | Git history | Free | ‚≠ê‚≠ê‚≠ê‚≠ê |

### Severity Levels

| Level | When to Use | Example |
|-------|-------------|---------|
| **Critical** | Production blocking | SQL Injection, RCE |
| **High** | Must fix before merge | XSS, Authentication bypass |
| **Medium** | Should fix soon | Information disclosure |
| **Low** | Nice to fix | Code quality issues |

### ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ Severity Thresholds

```yaml
# Development branch
--severity-threshold=low

# Staging branch
--severity-threshold=medium

# Production branch
--severity-threshold=high

# Security audit
--severity-threshold=critical
```

---

## ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 11: ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢ (FAQ)

### Q1: ‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å docker-compose ‡πÄ‡∏õ‡πá‡∏ô docker compose?
**A:** Docker Compose V2 ‡πÄ‡∏õ‡πá‡∏ô plugin ‡∏Ç‡∏≠‡∏á Docker CLI ‡∏ó‡∏µ‡πà‡πÄ‡∏£‡πá‡∏ß‡∏Å‡∏ß‡πà‡∏≤ ‡∏°‡∏µ features ‡πÉ‡∏´‡∏°‡πà‡∏Å‡∏ß‡πà‡∏≤ ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô

### Q2: Alpine image ‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å image ‡∏õ‡∏Å‡∏ï‡∏¥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?
**A:** Alpine ‡πÉ‡∏ä‡πâ musl libc ‡πÅ‡∏ó‡∏ô glibc ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏•‡πá‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 70% ‡πÅ‡∏ï‡πà‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ compatibility ‡∏ö‡∏≤‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á

### Q3: Health check ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?
**A:** ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô race condition ‡∏ó‡∏µ‡πà web app ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ database ‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà database ‡∏à‡∏∞‡∏û‡∏£‡πâ‡∏≠‡∏°

### Q4: ‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏≥‡∏Å‡∏±‡∏î permissions ‡πÉ‡∏ô GitHub Actions?
**A:** ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£ compromise ‡∏Ç‡∏≠‡∏á GITHUB_TOKEN ‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏ô‡∏≥‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ú‡∏¥‡∏î (Least Privilege Principle)

### Q5: Snyk ‡∏ü‡∏£‡∏µ‡∏à‡∏£‡∏¥‡∏á‡∏´‡∏£‡∏∑‡∏≠? ‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏≠‡∏∞‡πÑ‡∏£?
**A:** ‡∏ü‡∏£‡∏µ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö open source ‡πÅ‡∏•‡∏∞ public repos ‡∏à‡∏≥‡∏Å‡∏±‡∏î 200 scans/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö private repos ‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤

### Q6: ‡∏à‡∏∞‡∏£‡∏π‡πâ‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡∏ß‡πà‡∏≤ secret ‡∏ñ‡∏π‡∏Å‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÅ‡∏•‡πâ‡∏ß?
**A:** ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Settings > Secrets and variables > Actions ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠ secrets (‡πÅ‡∏ï‡πà‡πÄ‡∏´‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ)

### Q7: ‡∏ñ‡πâ‡∏≤ CI/CD ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?
**A:** 
1. ‡∏î‡∏π logs ‡πÉ‡∏ô Actions tab
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö secrets
3. Test locally ‡∏î‡πâ‡∏ß‡∏¢ `act`
4. Debug ‡∏ó‡∏µ‡∏•‡∏∞ step

### Q8: ‡∏à‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á strong password ‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?
**A:** 
```bash
# Python
python -c "import secrets; print(secrets.token_urlsafe(32))"

# OpenSSL
openssl rand -base64 32

# Online
https://passwordsgenerator.net/
```

### Q9: ‡∏Ñ‡∏ß‡∏£ ignore Snyk warning ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?
**A:** ‡∏Ñ‡∏ß‡∏£ review ‡∏ó‡∏∏‡∏Å warning ‡∏Å‡πà‡∏≠‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢ ignore ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô false positive ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà impact ‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö

### Q10: ‡∏à‡∏∞ rollback deployment ‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?
**A:** 
```bash
# Docker Swarm
docker service rollback myapp_web

# Docker Compose
docker compose down
git checkout <previous-commit>
docker compose up -d
```

### Q11: ‡∏à‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô package ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?
**A:**
```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö outdated packages
pip list --outdated

# ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ pip-audit
pip install pip-audit
pip-audit

# ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ online tool
# https://pypi.org/project/<package-name>/
```

### Q12: ‡∏Ñ‡∏ß‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï package ‡∏ö‡πà‡∏≠‡∏¢‡πÅ‡∏Ñ‡πà‡πÑ‡∏´‡∏ô?
**A:**
- **Security patches**: ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡∏°‡∏µ
- **Minor updates**: ‡∏ó‡∏∏‡∏Å 1-3 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
- **Major updates**: ‡∏ó‡∏∏‡∏Å 6-12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß)
- **‡πÉ‡∏ä‡πâ Snyk/Dependabot**: ‡πÉ‡∏´‡πâ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

### Q13: ‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï package ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÑ‡∏´‡∏°?
**A:**
- **Minor/Patch updates**: ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ï‡πà‡∏≥ (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï)
- **Major updates**: ‡∏≠‡∏≤‡∏à‡∏°‡∏µ breaking changes (‡∏Ñ‡∏ß‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡πà‡∏≠‡∏ô)
- **‡πÉ‡∏ä‡πâ semantic versioning**: ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ß‡πà‡∏≤‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÑ‡∏´‡∏ô‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢
- **‡∏°‡∏µ tests**: ‡∏ä‡πà‡∏ß‡∏¢‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤

---

## ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 13: ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Dependencies

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Dependencies

#### 1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Outdated Packages

```bash
# ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: ‡πÉ‡∏ä‡πâ pip
pip list --outdated

# ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ‡πÉ‡∏ä‡πâ pip-check
pip install pip-check
pip-check

# ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 3: ‡πÉ‡∏ä‡πâ pur
pip install pur
pur -r requirements.txt
```

#### 2. ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Packages ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢

```bash
# ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÄ‡∏â‡∏û‡∏≤‡∏∞ patch versions (‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢)
pip install --upgrade Flask

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï
pip install Flask==3.0.3 --dry-run

# ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
pip install --upgrade Flask
pip freeze > requirements.txt
```

#### 3. ‡πÉ‡∏ä‡πâ Dependency Management Tools

**Option 1: pip-tools**
```bash
# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á pip-tools
pip install pip-tools

# ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå requirements.in
cat > requirements.in << EOF
Flask>=3.0,<4.0
pytest>=8.0,<9.0
psycopg2-binary>=2.9,<3.0
redis>=5.0,<6.0
EOF

# Generate requirements.txt
pip-compile requirements.in

# ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï
pip-compile --upgrade requirements.in
```

**Option 2: Poetry (Modern)**
```bash
# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Poetry
curl -sSL https://install.python-poetry.org | python3 -

# Initialize project
poetry init

# ‡πÄ‡∏û‡∏¥‡πà‡∏° dependencies
poetry add Flask@^3.0.3
poetry add pytest@^8.3.3 --group dev

# ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï
poetry update

# Export ‡πÄ‡∏õ‡πá‡∏ô requirements.txt
poetry export -f requirements.txt --output requirements.txt
```

#### 4. Automated Dependency Updates

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.github/dependabot.yml`:**
```yaml
version: 2
updates:
  # Python dependencies
  - package-ecosystem: "pip"
    directory: "/backend"
    schedule:
      interval: "weekly"
    open-pull-requests-limit: 10
    reviewers:
      - "your-username"
    labels:
      - "dependencies"
      - "python"
    
  # Docker
  - package-ecosystem: "docker"
    directory: "/"
    schedule:
      interval: "weekly"
    
  # GitHub Actions
  - package-ecosystem: "github-actions"
    directory: "/"
    schedule:
      interval: "monthly"
```

### Semantic Versioning (SemVer)

```
MAJOR.MINOR.PATCH
  3  . 0  . 3

MAJOR: Breaking changes (API ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô)
MINOR: New features (backward compatible)
PATCH: Bug fixes (backward compatible)
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô:**

```txt
# Exact version (‡πÑ‡∏°‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)
Flask==3.0.3

# Compatible releases (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)
Flask>=3.0.3,<4.0.0
# ‡∏´‡∏£‡∏∑‡∏≠
Flask~=3.0.3  # ‚â•3.0.3, <3.1.0

# Minimum version
Flask>=3.0.3

# Version range
Flask>=3.0.0,<3.1.0
```

### Best Practices ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Dependencies

#### ‚úÖ ‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥:

1. **Pin major versions**
   ```txt
   Flask>=3.0,<4.0
   pytest>=8.0,<9.0
   ```

2. **‡πÅ‡∏¢‡∏Å development dependencies**
   ```txt
   # requirements.txt (production)
   Flask==3.0.3
   
   # requirements-dev.txt (development)
   pytest==8.3.3
   pytest-cov==5.0.0
   black==24.10.0
   ```

3. **‡πÉ‡∏ä‡πâ hash checking (security)**
   ```bash
   pip freeze > requirements.txt
   pip install --require-hashes -r requirements.txt
   ```

4. **Document dependencies**
   ```txt
   # Web Framework
   Flask==3.0.3  # Core web framework
   
   # Testing
   pytest==8.3.3  # Testing framework
   ```

#### ‚ùå ‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥:

1. **‡πÉ‡∏ä‡πâ `*` ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô**
   ```txt
   # ‚ùå ‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢!
   Flask
   pytest>=8.0
   ```

2. **Mix production ‡πÅ‡∏•‡∏∞ dev dependencies**
   ```txt
   # ‚ùå ‡πÑ‡∏°‡πà‡∏î‡∏µ
   Flask==3.0.3
   pytest==8.3.3  # ‡∏Ñ‡∏ß‡∏£‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô requirements-dev.txt
   ```

3. **Ignore security warnings**
   ```bash
   # ‚ùå ‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢!
   pip install --trusted-host pypi.org insecure-package
   ```

### Vulnerability Scanning Workflow

‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô `.github/workflows/dependency-check.yml`:

```yaml
name: Dependency Security Check

on:
  schedule:
    - cron: '0 0 * * 1'  # ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á‡∏Ñ‡∏∑‡∏ô
  push:
    paths:
      - '**/requirements*.txt'
      - '**/pyproject.toml'
      - '**/poetry.lock'

permissions:
  contents: read
  security-events: write

jobs:
  check-dependencies:
    runs-on: ubuntu-latest
    
    steps:
      - uses: actions/checkout@v4
      
      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.9'
      
      - name: Install pip-audit
        run: pip install pip-audit
      
      - name: Run pip-audit
        run: |
          cd backend
          pip-audit -r requirements.txt --format json --output audit-report.json
        continue-on-error: true
      
      - name: Upload audit report
        uses: actions/upload-artifact@v4
        with:
          name: pip-audit-report
          path: backend/audit-report.json
      
      - name: Check with Safety
        run: |
          pip install safety
          cd backend
          safety check -r requirements.txt --json --output safety-report.json
        continue-on-error: true
      
      - name: Notify if vulnerabilities found
        if: failure()
        uses: actions/github-script@v7
        with:
          script: |
            github.rest.issues.create({
              owner: context.repo.owner,
              repo: context.repo.repo,
              title: 'üîí Security: Vulnerable dependencies detected',
              body: 'Automated security scan found vulnerabilities in dependencies. Please check the workflow logs.',
              labels: ['security', 'dependencies']
            });
```

### ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞ Package

#### Flask 3.0.3
```python
# Breaking changes ‡∏à‡∏≤‡∏Å 2.x:
# - python_version ‡∏ï‡πâ‡∏≠‡∏á >= 3.8
# - ‡∏ö‡∏≤‡∏á deprecated features ‡∏ñ‡∏π‡∏Å‡∏•‡∏ö

# Features ‡πÉ‡∏´‡∏°‡πà:
# - Better async support
# - Improved typing
# - Security enhancements
```

#### pytest 8.3.3
```python
# Breaking changes ‡∏à‡∏≤‡∏Å 7.x:
# - python_version ‡∏ï‡πâ‡∏≠‡∏á >= 3.8
# - ‡∏ö‡∏≤‡∏á plugins ‡∏≠‡∏≤‡∏à‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï

# Features ‡πÉ‡∏´‡∏°‡πà:
# - 30% faster execution
# - Better error messages
# - Improved fixtures
```

#### psycopg2-binary 2.9.9
```python
# Notes:
# - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö production ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ psycopg2 (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà binary)
# - psycopg2-binary ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö development ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
# - psycopg3 ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤ (beta)

# PostgreSQL support:
# - PostgreSQL 9.6 - 16
```

#### redis 5.1.1
```python
# Breaking changes ‡∏à‡∏≤‡∏Å 4.x:
# - Connection pooling changes
# - ‡∏ö‡∏≤‡∏á deprecated methods ‡∏ñ‡∏π‡∏Å‡∏•‡∏ö

# Features ‡πÉ‡∏´‡∏°‡πà:
# - Better async support
# - Redis Stack support
# - Performance improvements
```

---

## ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 12: Resources ‡πÅ‡∏•‡∏∞‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á

### Official Documentation
- üìñ [Docker Compose Specification](https://docs.docker.com/compose/compose-file/)
- üìñ [Docker Compose CLI](https://docs.docker.com/compose/cli-command/)
- üìñ [GitHub Actions Documentation](https://docs.github.com/en/actions)
- üìñ [GitHub Actions Security](https://docs.github.com/en/actions/security-guides)
- üìñ [Snyk Documentation](https://docs.snyk.io/)

### Security Resources
- üîí [OWASP Docker Security](https://cheatsheetseries.owasp.org/cheatsheets/Docker_Security_Cheat_Sheet.html)
- üîí [CIS Docker Benchmark](https://www.cisecurity.org/benchmark/docker)
- üîí [Trivy Documentation](https://aquasecurity.github.io/trivy/)
- üîí [DevSecOps Best Practices](https://www.devsecops.org/)

### Learning Resources
- üéì [Docker Compose Tutorial](https://docs.docker.com/compose/gettingstarted/)
- üéì [GitHub Actions Learning Lab](https://lab.github.com/)
- üéì [YAML Tutorial](https://yaml.org/spec/1.2.2/)

### Tools
- üõ†Ô∏è [YAML Validator](https://yamllint.com/)
- üõ†Ô∏è [Docker Desktop](https://www.docker.com/products/docker-desktop/)
- üõ†Ô∏è [act - Run GitHub Actions locally](https://github.com/nektos/act)
- üõ†Ô∏è [dive - Docker image analyzer](https://github.com/wagoodman/dive)

---

## ‡∏™‡∏£‡∏∏‡∏õ

### ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÉ‡∏ô‡πÅ‡∏•‡∏õ‡∏ô‡∏µ‡πâ:

‚úÖ **YAML Basics** - ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡πÑ‡∏ß‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô

‚úÖ **Docker Compose Modern** 
- ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏ version
- ‡πÉ‡∏ä‡πâ Alpine images
- ‡∏Å‡∏≥‡∏´‡∏ô‡∏î health checks
- depends_on ‡∏Å‡∏±‡∏ö conditions

‚úÖ **GitHub Actions Security-First**
- Least Privilege permissions
- Modern Actions (v4-v5)
- Secrets management
- Multiple security scans

‚úÖ **DevSecOps Pipeline**
- Test automation
- Security scanning (6 tools)
- Container building
- SARIF uploads

‚úÖ **Best Practices**
- Security first
- Performance optimization
- Reliability improvements
- Maintainability

### ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ:

| Metric | Improvement |
|--------|-------------|
| **Image Size** | -71% |
| **CI Speed** | +150% |
| **Security Coverage** | +400% |
| **Reliability** | +100% |

### ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö:

- ‚úÖ **Lab 1**: Docker foundation
- ‚úÖ **Lab 2**: Flask application setup
- ‚úÖ **Lab 3**: User Authentication
- ‚úÖ **Lab 4**: Ticket Management
- ‚úÖ **Lab 5**: Testing & QA
- ‚úÖ **Lab 6**: CI/CD with GitHub Actions
- ‚úÖ **Lab 7**: Docker Production Deployment

### Checklist ‡∏Å‡πà‡∏≠‡∏ô‡πÑ‡∏õ‡∏ï‡πà‡∏≠:

- [ ] ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á YAML
- [ ] ‡∏™‡∏£‡πâ‡∏≤‡∏á Docker Compose ‡πÑ‡∏î‡πâ
- [ ] ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à health checks
- [ ] ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ GitHub Actions ‡πÑ‡∏î‡πâ
- [ ] ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ secrets ‡πÑ‡∏î‡πâ
- [ ] ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à security scanning
- [ ] ‡πÉ‡∏ä‡πâ Docker Compose V2 CLI ‡πÑ‡∏î‡πâ
- [ ] Debug ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡πÑ‡∏î‡πâ

---

## üéâ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢!

‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥ DevOps ‡πÅ‡∏•‡∏∞ CI/CD ‡πÅ‡∏•‡πâ‡∏ß ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÑ‡∏õ‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö Lab 1!

**Next Steps:**
1. Review ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÑ‡∏õ
2. ‡∏•‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡πÄ‡∏≠‡∏á
3. Experiment ‡∏Å‡∏±‡∏ö configurations ‡∏ï‡πà‡∏≤‡∏á‡πÜ
4. ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ï‡∏±‡∏ß‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Lab 1: Docker Foundation

**Remember:**
- Security First! üîí
- Test Everything! üß™
- Document Well! üìù
- Keep Learning! üöÄ